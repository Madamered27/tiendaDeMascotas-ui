<app-navbar></app-navbar>
<div class="container mt-4 text-center">
  <h1>Edicion de producto</h1>
  <hr>

  <div *ngIf="isMensajeMostrado" class="alert alert-success alert-dismissible fade show" role="alert">
    <strong>Excelentes noticias!</strong> El producto se modifico correctamente.
    <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="eliminarMensaje()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <form
    [formGroup]="miFormulario"
    class="form-group container"
    autocomplete="off"
    (ngSubmit)="modificar()"
    enctype="multipart/form-data"
  >

    <div>
      <label for="nombre">Nombre</label>
      <input
        class="form-control"
        type="text"
        name="nombre"
        id="nombre"
        placeholder="Nombre del producto"
        formControlName="nombre"
      />
    </div>

    <div>
      <label for="precio">Precio</label>
      <input
        class="form-control"
        type="number"
        name="precio"
        id="precio"
        formControlName="precio"
      />
    </div>

    <div>
      <label for="categoria">Categoria</label>
      <select name="categoria" id="categoria" class="form-control" formControlName="categoria">
        <option *ngFor="let categoria of listCategorias" [value]="categoria">{{categoria}}</option>
      </select>
    </div>


    <div>
      <label for="stock">Stock</label>
      <input
        class="form-control"
        type="number"
        name="stock"
        id="stock"
        formControlName="stock"
      />

      <input
        class="form-control"
        type="number"
        name="id"
        id="id"
        formControlName="id"
        hidden
      />
    </div>

  <!-- <div>
    <label for="nombre">Imagen</label>
    <input
      class="form-control"
      type="text"
      name="img"
      id="img"
      placeholder="Ej: imagen.jpg"
      formControlName="img"
    />
  </div> -->

  <div>
    <label for="nombre">Imagen</label>
    <input
      class="form-control"
      type="file"
      name="img"
      id="img"
      formControlName="img"
      (change)="onArchivoSeleccionado($event)"
    />
  </div>

    <div>
      <button class="btn btn-warning mt-2 w-100" type="submit">
        Guardar
      </button>
    </div>
  </form>
  <button class="btn btn-outline-primary mt-5 w-30 slow" routerLink="/productos">Volver a lista de productos</button>
</div>
<app-footer></app-footer>

